///////////////////////////////////////////////////////////////////////////////
//  Options                                                                  //
///////////////////////////////////////////////////////////////////////////////
UI_opttabs = 0
UI_optc1wA = 0.025
UI_optc1wB = 0.270
UI_optc1w  = (+f $UI_optc1wA $UI_optc1wB)
UI_optc2w  = 0.363
UI_optrowh = 0.032
UI_optbar  = [
   uitablerow [
      uifill $UI_optc1w 0.020 [UIbar 1]
      uifill $UI_optc2w 0.020 [UIbar 1]
      uialign* -1
   ]
]
UI_ratio4:3 = [
   "1024 768"
   "1152 864"
   "1280 960"
   "1400 1050"
   "1600 1200"
   "1920 1440"
   "2560 1920"
]
UI_ratio5:4 = [
   "800 640"
   "960 768"
   "1280 1024"
   "1440 1152"
   "1600 1280"
   "1920 1536"
   "2560 2048"
]
UI_ratio16:9 = [
   "1024 600"
   "1280 720"
   "1366 768"
   "1600 900"
   "1920 1080"
   "2048 1152"
   "2560 1440"
]
UI_ratio16:10 = [
   "768 480"
   "1024 640"
   "1280 800"
   "1440 900"
   "1680 1050"
   "1920 1200"
   "2560 1600"
]
opt_ratios = [4:3 5:4 16:9 16:10]
opt_ratios_assoc = ((looplistconcat ratio $opt_ratios [concat $ratio $ratio]))
UI_findratio = [
   looplist ratio $opt_ratios [
      looplist res $[UI_ratio@ratio] [
         if (=s $res $UI_resolution) [UI_aspectratio = $ratio]
      ]
   ]
]

opt_jouabilite = [
	UItitle [
		uihlist 0 [
			uiimage "media/interface/hud/options.jpg" 0.04 0.04
			uitext "^fbJOUABILITÉ   " 0.60
			uispace 0.15
		]
		uialign* -1 0
	]
	
	uispace 0.02

	uitablerow [
        uitext "^fbChamp de vision" 0.6
        uialign* -1 0
    ]
	uitablerow [
	    UIhslider fov 10 150 5 0.47 $UI_optrowh [uitext $fov 0.6]
		uialign* -1 0
	]
	
	uitablerow [
        uitext "^fbSensibilité de la souris" 0.6
        uialign* -1 0
    ]
	uitablerow [
	    UIhslider sensitivity 0.1 40.0 5 0.47 $UI_optrowh [uitext $sensitivity 0.6]
		uialign* -1 0
	]
	
	uitablerow [
		UIbutton "hold2" [
			UIcheckbox $thirdperson 0.016
			uitext "^fb3ème personne" 0.6
		] $UI_optc1wB $UI_optrowh [thirdperson (! $thirdperson)] -1
		uialign* -1 0
	]
	
	uitablerow [
		UIbutton "hold2" [
			UIcheckbox $invmouse 0.016
			uitext "^fbInverser la souris" 0.6
		] $UI_optc1wB $UI_optrowh [invmouse (! $invmouse)] -1
		uialign* -1 0
	]

    uitablerow [
        UIbutton "hold2" [
			UIcheckbox $showfps 0.016
			uitext "^fbAfficher FPS" 0.6
        ] $UI_optc1wB $UI_optrowh [showfps (! $showfps)] -1
        uialign* -1 0
    ]
	
    uitablerow [
        UIbutton "hold2" [
			UIcheckbox $blood 0.016
             uitext "^fbAfficher le sang" 0.6
        ] $UI_optc1wB $UI_optrowh [blood (! $blood)] -1
		uialign* -1 0
    ]
	
    UIbutton "hold2" [
		UIcheckbox $showminimap 0.016
		uitext "^fbAfficher la mini-map" 0.6
    ] 0.178 $UI_optrowh [showminimap (! $showminimap)] -1
	
	uitablerow [
        uitext "^fbDurée d'affichage des tombes" 0.6
        uialign* -1 0
    ]
	uitablerow [
	    UIhslider ragdollmillis 0 300000 5000 0.47 $UI_optrowh [uitext (concatword (? $hidedead "^f4") (div $ragdollmillis 1000)) 0.6]
		uialign* -1 0
	]
]

opt_graphismes = [
	UItitle [
		uihlist 0 [
			uiimage "media/interface/hud/options.jpg" 0.04 0.04
			uitext "^fbGRAPHISMES" 0.60
			uispace 0.068
		]
		uialign* -1 0
	]
	
	uispace 0.02
	
    uitablerow [
        uitext "^fbQualité de l'eau" 0.6
        UIlistslider water_lod = [0 "^ffBasse" 1 "^f0Moyenne" 2 "^f2Haute" 3 "^f3Ultra"] 0.17 $UI_optrowh
        uialign* -1 0
    ]
	uitablerow [
        uitext "^fbQualité de l'éclairage" 0.6
        UIlistslider light_lod = [0 "^ffBasse" 1 "^f0Moyenne" 2 "^f2Haute" 3 "^f3Ultra"] 0.17 $UI_optrowh
        uialign* -1 0
    ]
	uitablerow [
        uitext "^fbQualité des particules" 0.6
        UIlistslider particles_lod = [0 "^ffBasse" 1 "^f0Moyenne" 2 "^f2Haute" 3 "^f3Ultra"] 0.17 $UI_optrowh
        uialign* -1 0
    ]
	uitablerow [
        uitext "^fbQualité des modèles 3D" 0.6
        UIlistslider maxmodelradiusdistance = [40 "^ffBasse" 80 "^f0Moyenne" 120 "^f2Haute" 160 "^f3Ultra"] 0.17 $UI_optrowh
        uialign* -1 0
    ]
	uitablerow [
        uitext "^fbQualité des décors" 0.6
        UIlistslider decoration_lod = [0 "^ffBasse" 1 "^f0Moyenne" 2 "^f2Haute" 3 "^f3Ultra"] 0.17 $UI_optrowh
        uialign* -1 0
    ]
	uitablerow [
        uitext "^fbSSAO" 0.6
        UIlistslider ao = [0 "^ffDésactivé" 1 "^f3Activé"] 0.17 $UI_optrowh
        uialign* -1 0
    ]
]

opt_affichage = [
	UItitle [
		uihlist 0 [
			uiimage "media/interface/hud/options.jpg" 0.04 0.04
			uitext "^fbAFFICHAGE" 0.60
		]
		uialign* -1 0
	] 
	
	uispace 0.02

    uitablerow [
        uitext "^foFormat d'écran :" 0.6
        uialign* -1 0
	]
	
    uitablerow [
		UIlistslider UI_aspectratio =s $opt_ratios_assoc 0.17 $UI_optrowh
        uialign* -1 0
	]
	
	 uitablerow [
		UIlistslider UI_resolution = (
            looplistconcat i $[UI_ratio@UI_aspectratio] [
                result (concat (escape $i) (strreplace $i " " "x"))
        ]
        ) 0.168 $UI_optrowh [
            screenw (at $UI_resolution 0)
            screenh (at $UI_resolution 1)
        ]
		uialign* -1 0
	]
				  
    uitablerow [
        UIbutton "hold2" [
			UIcheckbox $fullscreen 0.016
            uitext "^foPlein écran" 0.6
        ] $UI_optc1wB $UI_optrowh [fullscreen (! $fullscreen)] -1
        uialign* -1 0
    ]
	
	UItitle [
		uihlist 0 [
			uiimage "media/interface/hud/options.jpg" 0.04 0.04
			uitext "^foANTI-ALIASING" 0.60
		]
		uialign* -1 0
	]
	uispace 0.02
	
    uitablerow [
        UIbutton "hold2" [
			UIcheckbox $smaa 0.016
            uitext "^foMSMA" 0.6
        ] $UI_optc1wB $UI_optrowh [smaa (! $smaa)] -1
        UIlistslider smaaquality = [
                0 @(concatword (? (! $smaa) "^f4" "^f1") "Bas")
                1 @(concatword (? (! $smaa) "^f4" "^f0") "Moyen")
                2 @(concatword (? (! $smaa) "^f4" "^f2") "Haut")
                3 @(concatword (? (! $smaa) "^f4" "^f3") "Ultra")
        ] 0.17 $UI_optrowh [smaacoloredge (>= $smaaquality 3)]
   		uialign* -1 0
    ]
        
	uitablerow [
        UIbutton "hold2" [
            UIcheckbox $fxaa 0.016
            uitext "^foFXAA" 0.6
        ] $UI_optc1wB $UI_optrowh [fxaa (! $fxaa)] -1
        UIlistslider fxaaquality = [
            0 @(concatword (? (! $fxaa) "^f4" "^f1") "Bas")
            1 @(concatword (? (! $fxaa) "^f4" "^f0") "Moyen")
            2 @(concatword (? (! $fxaa) "^f4" "^f2") "Haut")
            3 @(concatword (? (! $fxaa) "^f4" "^f3") "Ultra")
        ] 0.17 $UI_optrowh
        uialign* -1 0
    ]
	
    uitablerow [
        UIbutton "hold2" [
			UIcheckbox $tqaa 0.016
            uitext "^foTQAA" 0.6
        ] $UI_optc1wB $UI_optrowh [tqaa (! $tqaa)] -1
        uialign* -1 0
    ]

	UItitle [
		uihlist 0 [
			uiimage "media/interface/hud/options.jpg" 0.04 0.04
			uitext "^foAUTRES" 0.60
		]
		uialign* -1 0
	]
	uispace 0.02
	
    uitablerow [
        uitext "^foLuminosité" 0.6
        uialign* -1 0
    ]
	uitablerow [
		UIhslider gamma 3 300 5 0.47 $UI_optrowh [uitext $soundchans 0.6]
		uialign* -1 0
	]
	

    uitablerow [
        UIbutton "hold2" [
			UIcheckbox $vsync 0.016
            uitext "^foSynchronisation verticale" 0.6
        ] $UI_optc1wB $UI_optrowh [vsync (! $vsync)] -1
        uialign* -1 0
    ]
]

opt_audio = [
	UItitle [
		uihlist 0 [
			uiimage "media/interface/hud/options.jpg" 0.04 0.04
			uitext "^fbAUDIO" 0.60
			uispace 0.15
		]
		uialign* -1 0
	]
	
	uispace 0.02	
	
    uitablerow [
        uitext "^foVolume des bruitages" 0.6
        uialign* -1 0
    ]
	uitablerow [
	    UIhslider soundvol 0 255 5 0.47 $UI_optrowh [uitext $soundvol 0.6]
		uialign* -1 0
	]
	
    uitablerow [
        uitext "^foVolume des musiques" 0.6
        uialign* -1 0
    ]
	uitablerow [
		UIhslider musicvol 0 255 5 0.47 $UI_optrowh [uitext $musicvol 0.6]
		uialign* -1 0
	]
	
    uitablerow [
        uitext "^foLimite de sons joués simultanément" 0.6
        uialign* -1 0
    ]
	uitablerow [
		UIhslider maxsoundsatonce 32 256 5 0.47 $UI_optrowh [uitext $soundchans 0.6]
		uialign* -1 0
	]
	
	uispace 0.02
    uitablerow [
        UIbutton "hold2" [
            UIcheckbox $sound 0.016
            uitext "^fbActiver le son" 0.6
        ] $UI_optc1wB $UI_optrowh [sound (! $sound)] -1
        uialign* -1 0
    ]
    uitablerow [
        UIbutton "hold2" [
            UIcheckbox $hitsound 0.016
            uitext (concatword (? (! $sound) "^f4") "^fbNotifications") 0.6
        ] $UI_optc1wB $UI_optrowh [hitsound (! $hitsound)] -1
        uialign* -1 0
    ]
    uitablerow [
        UIbutton "hold2" [
            UIcheckbox $mumble 0.016
            uitext "^fbSynchroniser avec Mumble" 0.6
        ] $UI_optc1wB $UI_optrowh [mumble (! $mumble)] -1
        uialign* -1 0
    ]
]

show_options = [
	uihlist 0 [
		uihlist 0 [
			uivlist 0 [
				UIvtab 0.16 (*f 0.048 7) UI_opttabs [
					0 "^foJouabilité"     	[]
					1 "^foGraphismes"    	[]
					2 "^foAffichage"  		[]
					3 "^foAudio"    		[]
					4 "^foContrôles"   		[]
					5 "^foConsole"   		[]
				] 1
			]
			uialign- 0 -1
			UIbar 0 1
			uifill 0.009
			uiscroll 0.67 0.6 [
				uifill 0.67 0.6 [
					uialign 0 -1
					uitable 0 0.005 [
						uialign -1 -1
						case $UI_opttabs 0 [opt_jouabilite ]
						case $UI_opttabs 1 [opt_graphismes ]
						case $UI_opttabs 2 [opt_affichage ]
						case $UI_opttabs 3 [opt_audio ]
					]
				]
			]
		]
	]
][
   UI_aspectratio = ""
   UI_resolution  = (concat $screenw $screenh)
   UI_findratio
]