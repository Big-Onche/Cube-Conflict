// Game specific config stuff goes here

// Scoreboard Options
defvarp showscore     0 1 1
defvarp showkills     0 1 1
defvarp showdeaths    0 1 1
defvarp showlvl       0 1 1
defvarp showclass     0 1 1
defvarp showip        0 0 1

// Settings
defvarp soundfreq_ui      0 2 3
defvarp soundbufferlen_ui 0 2 3
defvarp shadowslod	      0 2 3
defvarp lightlod		  0 2 3
defvarp trislod           0 2 3
defvarp reflectionslod	  0 2 3
defvarp conchat 	 	  0 1 1
defvarp conteamtchat 	  0 1 1
defvarp congame	     	  0 1 1
defvarp conkills	 	  0 1 1
defvarp conallkills	 	  0 0 1
defvarp coninfos     	  0 0 1
defvarp conwarnings		  0 0 1
defvarp conerrors		  0 0 1
defvarp coninit     	  0 0 1
defvarp conscripts  	  0 0 1
defvarp uiteam 		  	  0 0 1
defvarp hudxpbar 		  0 1 1

// Gamemodes selection
defvarp game_mode 0 0 5
defvarp muta_mode 1 1 5
final_mode = 0

calcmode = [
	if (= $game_mode 4) [final_mode = -3][
		if (= $game_mode 5) [final_mode = -2][
			final_mode = 1
			final_mode = (+ (+ $final_mode (* $game_mode 4)) $muta_mode)
		]
	]
]

//Pause toggle & escape
togglemainmenu = [if (|| (uivisible "rules") (uivisible "privacy") (uivisible "overflowpopup") (uivisible "servstoppopup") (uivisible "msgerrpopup")) [hideallui ; showui "multiplayer"][if (uivisible "main") [if ($isconnected) [hideallui ; paused 0 ; playmapsong]][hideallui ; paused 1 ; showui "main"]]]

//Spectator
nextspecmode = [
   if $specmode [
      specmode (mod (+ $specmode 1) 3)
   ] [
      specmode (? (>= (getfollow) 0) 2 1)
   ]
]

defvarp zoomtoggle 0 0 1
dozoom = [if $zoomtoggle [zoom (? $zoom -1 1)] [zoom 1 ; onrelease [zoom -1]]]

defvarp dial -1 0 1
interact = [if (! (uivisible "dial"))[dial 1 ; sleep 0 [dial 0]]]

defvarp wieldtoggle 0 0 1
doautowield = [if $wieldtoggle [autowield (? $autowield -1 1)] [autowield 1 ; onrelease [autowield -1]]]

drawdial = [
	diagbind = (searchbinds [interact])
	if (<s $arg4 1) [spacer = ""][spacer = " "] 
	if $GAME_LANG [helpmsg (concatword $arg2 " " "^ff" $arg4 $spacer "^f7(^fe" $diagbind "^f7)")][helpmsg (concatword $arg1 " " "^ff" $arg3 $spacer "^f7(^fe" $diagbind "^f7)")]
]

sayteamcommand = [inputcommand $arg1 [sayteam $commandbuf] "[team]"]

demo = [stopdemo; if (mode -1) [map $arg1]]
varcomplete demo demodir dmo

allowedittoggle = [result 1]

UI_menutabs = [5]
UI_menupausetabs = [0]

songs = ["songs/tutorial.ogg" "songs/village.ogg" "songs/factory.ogg" "songs/moon.ogg" "songs/castle.ogg" "songs/volcano.ogg"]

playmapsong = [music (at $songs $map_sel) 5]

premission = [
	if (> $getmode 5) [
	    forcecampos 2
        sleep 3000 [forcecampos 3]
        sleep 6000 [forcecampos -1]
	][
		forcecampos 0
        sleep 3000 [forcecampos 1]
        sleep 6000 [forcecampos -1]
	]
	
	sleep 15000 [playmapsong]
]

// reverb vars
R_PLAINS = 0
R_FACTORY = 1
R_SPACE = 2
R_MOUNTAINS = 3
R_CAVE = 4
R_GENERIC = 5

// guns vars to ints for npcs
G_ELEC = 0
G_PLASMA = 1
G_SMAW = 2
G_MINIGUN = 3
G_SPOCKGUN = 4
G_M32 = 5
G_FLAMETHROWER = 6
G_UZI = 7
G_FAMAS = 8
G_MOSSBERG = 9
G_HYDRA = 10
G_SV98 = 11
G_SKS = 12
G_ARBALETE = 13
G_AK47 = 14
G_GAPB1 = 15
G_FIREWORKS = 16
G_GLOCK = 17
G_S_NUKE = 18
G_S_GAU8 = 19
G_S_ROCKETS = 20
G_S_CAMPOUZE = 21
G_M_FFSWORD = 22
G_M_HAMMER = 23
G_M_MASTER = 24
G_M_FLAIL = 25
G_KAMIKAZE = 26
G_ASSISTXPL = 27
G_M_SABER = 28
G_NONE = 29

// class vars to ints for npcs
SOLDIER = 0
MEDIC = 1
AMERICAN = 2
NINJA = 3
VAMPIRE = 4
WIZARD = 5
KAMIKAZE = 6
REAPER = 7
PHYSICIST = 8
CAMPER = 9
SPY = 10
PRIEST = 11
VIKING = 12
JUNKIE = 13
SHOSHONE = 14

// drops vars to ints for npcs
D_COMMON = 0
D_UNCOMMON = 1
D_RARE = 2
D_LEGENDARY = 3
D_GODLY = 4

// sounds vars to ints
S_ACHIEVEMENT = 178
S_NOTIFICATION = 196

// no need for comment
TRUE = 1
FALSE = 0

///////////////////////////////////////////////////////////////////////////////
//  Spy's disguise default config                                            //
///////////////////////////////////////////////////////////////////////////////
alias disguise_0 "mapmodel/caisses/caisse1"
alias disguise_1 "mapmodel/tonneau"
alias disguise_2 "mapmodel/panneau"
alias disguise_3 "mapmodel/distributeur"

///////////////////////////////////////////////////////////////////////////////
//  Universal Mouse Scrollwheel                                              //
///////////////////////////////////////////////////////////////////////////////
ums_modifier    = 0
ums_setmodifier = [ums_modifier = $arg1; onrelease [ums_modifier = 0]]
ums_delta       = [[ums_delta_@(? $editing "edit" "game")_@ums_modifier] $arg1]
ums_delta_game_0 = [if $fullconsole [conskip (* $arg1 3)] [nextweapon $arg1]]
ums_delta_edit_0  = [if $fullconsole [conskip (* $arg1 3)] [if $blendpaintmode [nextblendbrush $arg1] [editfacewsel $arg1 1]]]  // Console scroll -or- Change blend brush -or- Push/pull geometry
ums_delta_edit_1  = [nodebug [gridpower (+ $arg1 $gridpower)]]                       // Grid size
ums_delta_edit_2  = [editfacewsel $arg1 0]                                           // Push face/corners selected
ums_delta_edit_3  = [editfacewsel $arg1 2]                                           // Push corner pointed at by cursor
ums_delta_edit_4  = [if $blendpaintmode [rotateblendbrush $arg1] [editrotate $arg1]] // Geometry rotate -or- blend brush rotate
ums_delta_edit_5  = [edittex $arg1]                                                  // Change textures
ums_delta_edit_6  = [selecthbrush $arg1]                                             // Change heightmap brush
ums_delta_edit_7  = [vdelta [voffset (* $arg1 $delta_multiplier2) 0]]               // vSlot: offset H
ums_delta_edit_8  = [vdelta [voffset 0 (* $arg1 $delta_multiplier2)]]               // vSlot: offset V
ums_delta_edit_9  = [vdelta [vrotate $arg1]]                                         // vSlot: rotate
ums_delta_edit_10 = [vdelta [vscale (if (< $arg1 0) 0.5 2)]]                         // vSlot: scale
ums_delta_edit_11 = [entproperty 0 (* $arg1 $delta_multiplier1)]
ums_delta_edit_12 = [entproperty 1 (* $arg1 $delta_multiplier1)]
ums_delta_edit_13 = [entproperty 2 (* $arg1 $delta_multiplier1)]
ums_delta_edit_14 = [entproperty 3 (* $arg1 $delta_multiplier1)]
ums_delta_edit_15 = [entproperty 4 (* $arg1 $delta_multiplier1)]
ums_delta_edit_16 = [entautoview $arg1]
delta_multiplier1 = 1
delta_multiplier2 = 16